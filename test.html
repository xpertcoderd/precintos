<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Transfers List</title>
    <!-- Tailwind CSS v3 CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Vue 3 (Just for data, no complex logic) -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <!-- Custom Google Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc; /* slate-50 */
        }
    </style>
</head>
<body>

<div id="app" class="p-4 md:p-8" @click="openMenuId = null">
    <!-- Page Header -->
    <div class="flex border-b border-slate-200 mb-6">
        <button v-for="tab in tabs" :key="tab" @click="activeTab = tab"
                :class="[
                    'px-4 py-3 text-sm font-medium -mb-px',
                    activeTab === tab
                        ? 'border-b-2 border-sky-500 text-sky-600'
                        : 'text-slate-500 hover:text-slate-800'
                ]">
            {{ tab }}
        </button>
    </div>

    <!-- Main Content -->
    <main class="bg-white rounded-2xl shadow-lg p-6">
        <!-- Content Header -->
        <div class="flex flex-col md:flex-row justify-between items-center mb-6">
            <div class="flex items-center gap-3">
                <list-icon class="w-6 h-6 text-sky-600"></list-icon>
                <h2 class="text-xl font-bold text-slate-800">Traslados</h2>
            </div>
            <div class="flex items-center gap-4 mt-4 md:mt-0">
                <div class="relative w-64">
                    <input type="text" placeholder="Search..." class="w-full pl-10 pr-4 py-2 text-sm border border-slate-300 rounded-lg focus:ring-sky-500 focus:border-sky-500">
                    <search-icon class="absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"></search-icon>
                </div>
            </div>
        </div>

        <!-- Transfers List (Two-column grid) -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-4">
            <div v-for="transfer in transfers" :key="transfer.id" class="bg-slate-50 hover:bg-slate-100 p-4 rounded-lg border border-slate-200 transition-colors space-y-4">
                <!-- Header Section -->
                <div class="flex justify-between items-start">
                    <div class="flex items-center gap-4">
                        <input type="checkbox" class="h-4 w-4 rounded border-slate-300 text-sky-600 focus:ring-sky-500">
                        <div>
                            <div class="font-semibold text-slate-800">{{ transfer.container }}</div>
                            <div class="text-xs text-slate-500">{{ transfer.id }}</div>
                        </div>
                    </div>
                    <div class="relative">
                        <button @click.stop="toggleMenu(transfer.id)" class="text-slate-400 hover:text-sky-600">
                            <more-horizontal-icon class="w-5 h-5" />
                        </button>
                        <!-- Dropdown Menu -->
                        <div v-if="openMenuId === transfer.id" @click.stop class="absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10 border border-slate-200">
                            <a href="#" class="block px-4 py-2 text-sm text-slate-700 hover:bg-slate-100">Enlace</a>
                            <a href="#" class="block px-4 py-2 text-sm text-slate-700 hover:bg-slate-100">Alertar Contacto</a>
                            <a href="#" class="block px-4 py-2 text-sm text-red-600 hover:bg-red-50">Cancelar</a>
                        </div>
                    </div>
                </div>

                <!-- Route Section -->
                <div class="text-sm text-slate-600">
                    <div class="flex justify-between items-center mb-1">
                        <span class="text-xs font-medium text-slate-500">{{ transfer.origin }}</span>
                        <span class="text-xs font-medium text-slate-500">{{ transfer.destination }}</span>
                    </div>
                    <div class="relative w-full bg-slate-200 rounded-full h-2.5">
                        <div class="bg-sky-500 h-2.5 rounded-full" :style="{ width: transfer.progress + '%' }"></div>
                        <div class="absolute top-1/2 -translate-y-1/2 -translate-x-1/2" :style="{ left: transfer.progress + '%' }">
                            <truck-icon class="w-5 h-5 text-white bg-sky-600 rounded-full p-0.5"></truck-icon>
                        </div>
                    </div>
                    <div class="text-center text-xs font-semibold text-sky-600 mt-1">{{ transfer.progress }}% completado</div>
                </div>

                <!-- Details Section -->
                <div class="flex justify-between items-center text-sm">
                    <div>
                        <div class="text-xs text-slate-400 font-medium">FECHA INICIO</div>
                        <div class="text-slate-600">{{ transfer.startDate }}</div>
                    </div>
                    <div>
                        <div class="text-xs text-slate-400 font-medium">FECHA FIN</div>
                        <div :class="transfer.isOverdue ? 'text-red-500 font-bold' : 'text-slate-600'">{{ transfer.endDate }}</div>
                    </div>
                    <div>
                        <div class="text-xs text-slate-400 font-medium">ESTADO</div>
                        <span :class="[
                                'inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium',
                                transfer.status === 'Pendiente' ? 'bg-yellow-100 text-yellow-800' : '',
                                transfer.status === 'Activo' ? 'bg-green-100 text-green-800' : '',
                                transfer.status === 'Completado' ? 'bg-blue-100 text-blue-800' : ''
                            ]">
                                {{ transfer.status }}
                            </span>
                    </div>
                </div>
            </div>
        </div>
    </main>
</div>

<script>
    const { createApp, ref } = Vue;

    const app = createApp({
        setup() {
            const tabs = ref(['Contenedor', 'BL', 'ETA', 'Mapa']);
            const activeTab = ref('Contenedor');
            const openMenuId = ref(null);

            const transfers = ref([
                { id: '1', container: 'Container #1', seal: '123237513', origin: 'Origen', destination: 'Destino', status: 'Activo', progress: 75, startDate: '1/10/24, 02:00PM', endDate: '1/10/24, 06:00PM', isOverdue: true },
                { id: '2', container: 'Container #2', seal: 'N/A', origin: 'Origen', destination: 'Destino', status: 'Pendiente', progress: 0, startDate: '1/10/24, 02:00PM', endDate: '1/10/24, 06:00PM', isOverdue: false },
                { id: '3', container: 'Container #3', seal: '123237513', origin: 'Origen', destination: 'Destino', status: 'Completado', progress: 100, startDate: '1/10/24, 02:00PM', endDate: '1/10/24, 06:00PM', isOverdue: false },
                { id: '4', container: 'Container #4', seal: 'N/A', origin: 'Origen', destination: 'Destino', status: 'Pendiente', progress: 0, startDate: '1/10/24, 02:00PM', endDate: '1/10/24, 06:00PM', isOverdue: true },
            ]);

            const toggleMenu = (id) => {
                openMenuId.value = openMenuId.value === id ? null : id;
            };

            return {
                tabs,
                activeTab,
                transfers,
                openMenuId,
                toggleMenu,
            };
        },
    });

    app.component('ListIcon', { template: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line></svg>` });
    app.component('SearchIcon', { template: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>` });
    app.component('MoreHorizontalIcon', { template: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="1"></circle><circle cx="19" cy="12" r="1"></circle><circle cx="5" cy="12" r="1"></circle></svg>` });
    app.component('TruckIcon', { template: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="1" y="3" width="15" height="13" /><polygon points="16,8 20,8 23,11 23,16 16,16 16,8" /><circle cx="5.5" cy="18.5" r="2.5" /><circle cx="18.5" cy="18.5" r="2.5" /></svg>` });

    app.mount('#app');
</script>

</body>
</html>
